import { AppTheme } from "../theme.slint";

export component ThemeToggle inherits Rectangle {
    in-out property <bool> dark_mode;
    in property <bool> enabled: true;
    callback toggled(bool);

    width: 56px;
    height: 28px;
    border-radius: 14px;
    border-width: 1px;
    border-color: AppTheme.border_color;
    background: dark_mode ? #111827 : #E2E8F0;
    opacity: enabled ? 1.0 : 0.6;

    // Knob
    Rectangle {
        y: 3px;
        x: dark_mode ? 30px : 3px;
        width: 22px;
        height: 22px;
        border-radius: 11px;
        background: AppTheme.panel_bg;
        border-width: 1px;
        border-color: AppTheme.border_color;

        animate x {
            duration: 160ms;
            easing: ease-out-quad;
        }

        Text {
            text: dark_mode ? "D" : "L";
            font-size: 12px;
            width: 100%;
            height: 100%;
            horizontal-alignment: center;
            vertical-alignment: center;
            color: AppTheme.text_secondary;
        }
    }

    TouchArea {
        enabled: root.enabled;
        mouse-cursor: pointer;
        clicked => {
            root.dark_mode = !root.dark_mode;
            root.toggled(root.dark_mode);
        }
    }
}
