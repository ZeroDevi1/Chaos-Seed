# TODO_NEXT（近期 1~5 天交付）

> 说明：这里仅放“最近几天内必须交付”的 bugfix/小功能/风险修复。条目数量保持少（建议 3~6 个），但每条要写清：现象、实现方向（概括）、验收标准、回归清单。

## Done（已完成）

> 日期统一按你确认（目前包含：2026-02-07 / 2026-02-08）。commit hash 为“最贴近该功能完成”的提交（允许多个条目引用同一个提交）。

- P0-1 启动白屏 / 首屏延迟 2~3s：Done @ 2026-02-07（commit: `6e4d711`）
- P0-2 搜索按钮点击后闪退：Done @ 2026-02-07（commit: `6e4d711`）
- P0-3 字幕下载页：搜索有结果但列表不显示 + 输入框鼠标点击不聚焦：Done @ 2026-02-07（commit: `77ac64b`）
- P1-4 白天模式按钮不可见 + 输入框/说明不清晰：Done @ 2026-02-07（commit: `6e4d711`）
- P2-5 Windows 图标（Explorer/任务栏/Alt-Tab）：Done @ 2026-02-07（commit: `6e4d711`）
- P2-6 About 链接 + 侧边栏 Win11 观感增强：Done @ 2026-02-07（commit: `6e4d711`）
- P1-7 弹幕：BiliLive / Douyu / Huya 核心连接与解析移植（先功能后 UI）：Done @ 2026-02-07（commit: `a37fce7`）
- P1-8 新增页面占位（Settings / 直播源 / 弹幕）+ 侧边栏导航调整：Done @ 2026-02-08（commit: `6dea058`）
- P1-9 弹幕 - UI 接入（Chat / Overlay）与交互：Done @ 2026-02-08（commit: `6dea058`）

## Next（近期要交付）

### P1：主题 - 跟随系统（Windows/macOS）+ 下拉框切换

**交付目标**
- 自动判断系统深色/浅色偏好（Windows / macOS），默认“跟随系统”。
- 将主题切换从开关改为下拉框：`跟随系统 / 浅色主题 / 深色主题`。

**验收标准**
- 跟随系统时：系统主题变化后应用主题同步变化（允许有轻微延迟）。
- 手动选择浅色/深色时：不再跟随系统，且重启后保持选择。

---

### P1：直播源解析（提上日程）

**交付目标**
- 支持解析常见直播源输入（先从最常用的格式开始，例如 m3u / json），并输出统一的数据结构供 UI 使用。

**验收标准**
- 给定一段示例输入（本地文件或粘贴文本）能解析出可用的直播源列表；错误时给出可读提示。

---

### P2：UI 层尝试引入 tauri，拆分成两套 UI 版本

**交付目标**
- 评估并落一个最小可运行原型：保留当前 Slint 版本，同时新增 tauri UI 版本（双入口/可切换构建）。

**验收标准**
- 两套 UI 都能启动并进入主界面；核心业务层（Rust）可复用，不发生重复实现。
